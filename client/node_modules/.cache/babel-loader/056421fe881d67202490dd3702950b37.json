{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\teodo\\\\Desktop\\\\aYEAR2\\\\semester2\\\\FullStack\\\\Projects\\\\error_handling\\\\client\\\\src\\\\components\\\\DisplayAllCars.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport CarTable from \"./CarTable\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\"; //import Product from \"./Product\";\n\nimport { // ACCESS_LEVEL_GUEST,\nACCESS_LEVEL_ADMIN, SERVER_HOST } from \"../config/global_constants\";\nexport default class DisplayAllCars extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onRefreshClick = () => {\n      this.setState({\n        customersCount: 7\n      });\n    };\n\n    this.getPhoneToRender = phone => {\n      if (phone) {\n        return phone;\n      } else {\n        return React.createElement(\"div\", {\n          className: \"bg-warning p-2 text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 89\n          },\n          __self: this\n        }, \"No phone\");\n      }\n    };\n\n    this.getCustomerRow = () => {\n      return this.state.customers.map(cust => {\n        return React.createElement(\"tr\", {\n          key: cust.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, cust.id), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98\n          },\n          __self: this\n        }, cust.name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        }, this.getPhoneToRender(cust.phone)), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 100\n          },\n          __self: this\n        }, cust.address.city));\n      });\n    };\n\n    this.state = {\n      cars: [],\n      appTitle: \"Customers\",\n      customersCount: 0,\n      users: [],\n      customers: [{\n        id: 1,\n        name: \"Scott\",\n        phone: \"234234\",\n        address: {\n          city: \"London\"\n        },\n        photo: \"https://picsum.photos/id/1010/60\"\n      }, {\n        id: 2,\n        name: \"Jones\",\n        phone: \"567567\",\n        address: {\n          city: \"Praga\"\n        },\n        photo: \"https://picsum.photos/id/1011/60\"\n      }, {\n        id: 3,\n        name: \"Smith\",\n        phone: null,\n        address: {\n          city: \"Sofia\"\n        },\n        photo: \"https://picsum.photos/id/1012/60\"\n      }, {\n        id: 4,\n        name: \"John\",\n        phone: \"3453466\",\n        address: {\n          city: \"Plovdiv\"\n        },\n        photo: \"https://picsum.photos/id/1013/60\"\n      }]\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"\".concat(SERVER_HOST, \"/cars\")).then(res => {\n      this.setState({\n        cars: res.data\n      });\n    }).catch(err => {// do nothing\n    });\n    axios.get(\"\".concat(SERVER_HOST, \"/users\")).then(res => {\n      this.setState({\n        users: res.data\n      });\n      console.log(this.res.data);\n    }).catch(err => {// do nothing\n    });\n  } //Executes when user clicks on Refresh button\n\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"outer__container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, this.state.appTitle, \" \"), React.createElement(\"span\", {\n      className: \"badge badge-secondary m-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, this.state.customersCount), React.createElement(\"button\", {\n      className: \"btn btn-info\",\n      onClick: () => this.onRefreshClick(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, \"Refresh\"), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"#\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, \"Customer Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Phone\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"City\")), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, this.getCustomerRow()))), React.createElement(CarTable, {\n      cars: this.state.cars,\n      users: this.state.users,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    })), localStorage.accessLevel >= ACCESS_LEVEL_ADMIN ? React.createElement(\"div\", {\n      className: \"add-new-car\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"blue-button\",\n      to: \"/AddCar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Add New Car\"), React.createElement(Link, {\n      className: \"header__link\",\n      to: \"/ResetDatabase\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header__option\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"header__optionLineOne\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"blue-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Reset Database\"))), \" \") : null, React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }));\n  }\n\n} //  {\n//    localStorage.accessLevel > ACCESS_LEVEL_GUEST ? (\n//      <div className=\"logout\">\n//        {localStorage.profilePhoto !== \"null\" ? (\n//          <img\n//            id=\"profilePhoto\"\n//            src={`data:;base64,${localStorage.profilePhoto}`}\n//            alt=\"\"\n//          />\n//        ) : null}\n//        <Logout />\n//      </div>\n//    ) : (\n//      <div></div>\n//    );\n//  }\n//  <div className=\"table-container\">\n//    <CarTable cars={this.state.cars} />\n//    {localStorage.accessLevel >= ACCESS_LEVEL_ADMIN ? (\n//      <div className=\"add-new-car\">\n//        <Link className=\"blue-button\" to={\"/AddCar\"}>\n//          Add New Car\n//        </Link>\n//      </div>\n//    ) : null}\n//  </div>;","map":{"version":3,"sources":["C:\\Users\\teodo\\Desktop\\aYEAR2\\semester2\\FullStack\\Projects\\error_handling\\client\\src\\components\\DisplayAllCars.js"],"names":["React","Component","Link","axios","CarTable","Header","Footer","ACCESS_LEVEL_ADMIN","SERVER_HOST","DisplayAllCars","constructor","props","onRefreshClick","setState","customersCount","getPhoneToRender","phone","getCustomerRow","state","customers","map","cust","id","name","address","city","cars","appTitle","users","photo","componentDidMount","get","then","res","data","catch","err","console","log","render","localStorage","accessLevel"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport axios from \"axios\";\n\nimport CarTable from \"./CarTable\";\n\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\n//import Product from \"./Product\";\n\nimport {\n  // ACCESS_LEVEL_GUEST,\n  ACCESS_LEVEL_ADMIN,\n  SERVER_HOST,\n} from \"../config/global_constants\";\n\nexport default class DisplayAllCars extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      cars: [],\n      appTitle: \"Customers\",\n      customersCount: 0,\n      users: [],\n      customers: [\n        {\n          id: 1,\n          name: \"Scott\",\n          phone: \"234234\",\n          address: { city: \"London\" },\n          photo: \"https://picsum.photos/id/1010/60\",\n        },\n        {\n          id: 2,\n          name: \"Jones\",\n          phone: \"567567\",\n          address: { city: \"Praga\" },\n          photo: \"https://picsum.photos/id/1011/60\",\n        },\n        {\n          id: 3,\n          name: \"Smith\",\n          phone: null,\n          address: { city: \"Sofia\" },\n          photo: \"https://picsum.photos/id/1012/60\",\n        },\n        {\n          id: 4,\n          name: \"John\",\n          phone: \"3453466\",\n          address: { city: \"Plovdiv\" },\n          photo: \"https://picsum.photos/id/1013/60\",\n        },\n      ],\n    };\n  }\n\n  componentDidMount() {\n    axios\n      .get(`${SERVER_HOST}/cars`)\n      .then((res) => {\n        this.setState({ cars: res.data });\n      })\n      .catch((err) => {\n        // do nothing\n      });\n    axios\n      .get(`${SERVER_HOST}/users`)\n      .then((res) => {\n        this.setState({ users: res.data });\n        console.log(this.res.data);\n      })\n      .catch((err) => {\n        // do nothing\n      });\n  }\n  //Executes when user clicks on Refresh button\n  onRefreshClick = () => {\n    this.setState({\n      customersCount: 7,\n    });\n  };\n  getPhoneToRender = (phone) => {\n    if (phone) {\n      return phone;\n    } else {\n      return <div className=\"bg-warning p-2 text-center\">No phone</div>;\n    }\n  };\n\n  getCustomerRow = () => {\n    return this.state.customers.map((cust) => {\n      return (\n        <tr key={cust.id}>\n          <td>{cust.id}</td>\n          <td>{cust.name}</td>\n          <td>{this.getPhoneToRender(cust.phone)}</td>\n          <td>{cust.address.city}</td>\n        </tr>\n      );\n    });\n  };\n  render() {\n    return (\n      <div className=\"outer__container\">\n        <Header />\n\n      \n\n        <h4>{this.state.appTitle} </h4>\n        <span className=\"badge badge-secondary m-2\">\n          {this.state.customersCount}\n        </span>\n        <button className=\"btn btn-info\" onClick={() => this.onRefreshClick()}>\n          Refresh\n        </button>\n        <div className=\"container\">\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th>#</th>\n                <th>Customer Name</th>\n                <th>Phone</th>\n                <th>City</th>\n              </tr>\n              <tbody>{this.getCustomerRow()}</tbody>\n            </thead>\n          </table>\n\n          <CarTable cars={this.state.cars} users={this.state.users} />\n        </div>\n        {localStorage.accessLevel >= ACCESS_LEVEL_ADMIN ? (\n          <div className=\"add-new-car\">\n            <Link className=\"blue-button\" to={\"/AddCar\"}>\n              Add New Car\n            </Link>\n            <Link className=\"header__link\" to={\"/ResetDatabase\"}>\n              <div className=\"header__option\">\n                <span className=\"header__optionLineOne\"></span>\n                <span className=\"blue-button\">Reset Database</span>\n              </div>\n            </Link>{\" \"}\n          </div>\n        ) : null}\n\n        <Footer />\n      </div>\n    );\n  }\n}\n\n//  {\n//    localStorage.accessLevel > ACCESS_LEVEL_GUEST ? (\n//      <div className=\"logout\">\n//        {localStorage.profilePhoto !== \"null\" ? (\n//          <img\n//            id=\"profilePhoto\"\n//            src={`data:;base64,${localStorage.profilePhoto}`}\n//            alt=\"\"\n//          />\n//        ) : null}\n//        <Logout />\n//      </div>\n//    ) : (\n//      <div></div>\n//    );\n//  }\n\n//  <div className=\"table-container\">\n//    <CarTable cars={this.state.cars} />\n\n//    {localStorage.accessLevel >= ACCESS_LEVEL_ADMIN ? (\n//      <div className=\"add-new-car\">\n//        <Link className=\"blue-button\" to={\"/AddCar\"}>\n//          Add New Car\n//        </Link>\n//      </div>\n//    ) : null}\n//  </div>;\n"]},"metadata":{},"sourceType":"module"}