{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\teodo\\\\Desktop\\\\aYEAR2\\\\semester2\\\\FullStack\\\\Projects\\\\error_handling\\\\client\\\\src\\\\components\\\\ShoopingCart.js\";\nimport React, { Component } from \"react\";\nimport Product from \"./Product\";\nexport default class ShoppingCart extends Component {\n  constructor(props) {\n    console.log(\"constrtuctor - Shopping cart\");\n    super(props);\n\n    this.handleIncrement = (product, max) => {\n      //copy the product array\n      let allProducts = [...this.state.products]; //get the index of any product\n\n      let index = allProducts.indexOf(product);\n\n      if (allProducts[index].quantity < max) {\n        allProducts[index].quantity++; //update the state with the changed array allProducts\n\n        this.setState({\n          products: allProducts\n        });\n      } // console.log(\"handleIncrement\", product);\n      // console.log(allProducts[index]);\n\n    };\n\n    this.handleDecrement = (product, min) => {\n      let allProducts = [...this.state.products];\n      let index = allProducts.indexOf(product);\n\n      if (allProducts[index].quantity > min) {\n        allProducts[index].quantity--;\n        this.setState({\n          products: allProducts\n        });\n      } // console.log(\"handleDecrement\", product);\n\n    };\n\n    this.handelDelete = product => {\n      //get the product by index\n      let allProducts = [...this.state.products];\n      let index = allProducts.indexOf(product);\n\n      if (window.confirm(\"Are you sure to Delete the product?\")) {\n        //delete the product with\n        allProducts.splice(index, 1); //changing the state with the deleted product\n\n        this.setState({\n          products: allProducts\n        });\n      }\n    };\n\n    this.state = {\n      products: [{\n        id: 1,\n        productName: \"Iphone\",\n        price: 500,\n        quantity: 0\n      }]\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"componentDidMount - Shopping cart\");\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    console.log(\"componentUpdate \", prevProps, prevState, this.props, this.state);\n\n    if (prevProps.x != this.props.x) {//http call\n    }\n  }\n\n  componentWillUnmount() {\n    console.log(\"componentWillUnmount - Shopping cart\");\n  }\n\n  componentDidCatch(error, info) {\n    console.log(\"componentWillUnmount - Shopping cart\");\n    console.log(error, info);\n    localStorage.lastError = \"\".concat(erorr, \"\\n$\");\n  } // Increment and decrement functions taking the product\n  //state from Product component\n\n\n  render() {\n    console.log(\"render - Shopping cart\");\n    return React.createElement(\"div\", {\n      className: \"containr-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"ShoppingCart\"), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, this.state.products.map(prod => {\n      return React.createElement(Product, {\n        key: prod.id,\n        product: prod,\n        onIncrement: this.handleIncrement,\n        onDecrement: this.handleDecrement,\n        onDelete: this.handelDelete,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Buy now\"));\n    })));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\teodo\\Desktop\\aYEAR2\\semester2\\FullStack\\Projects\\error_handling\\client\\src\\components\\ShoopingCart.js"],"names":["React","Component","Product","ShoppingCart","constructor","props","console","log","handleIncrement","product","max","allProducts","state","products","index","indexOf","quantity","setState","handleDecrement","min","handelDelete","window","confirm","splice","id","productName","price","componentDidMount","componentDidUpdate","prevProps","prevState","x","componentWillUnmount","componentDidCatch","error","info","localStorage","lastError","erorr","render","map","prod"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Product from \"./Product\";\r\n\r\nexport default class ShoppingCart extends Component {\r\n  constructor(props) {\r\n    console.log(\"constrtuctor - Shopping cart\");\r\n    super(props);\r\n    this.state = {\r\n      products: [\r\n        { id: 1, productName: \"Iphone\", price: 500, quantity: 0 },\r\n        // { id: 2, productName: \"Samsung\", price: 600, quantity: 0 },\r\n        // { id: 3, productName: \"iPad\", price: 400, quantity: 0 },\r\n        // { id: 4, productName: \"Xbox\", price: 700, quantity: 0 },\r\n        // { id: 5, productName: \"Psp\", price: 200, quantity: 0 },\r\n        // { id: 6, productName: \"Dogee\", price: 100, quantity: 0 },\r\n      ],\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    console.log(\"componentDidMount - Shopping cart\");\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    console.log(\r\n      \"componentUpdate \",\r\n      prevProps,\r\n      prevState,\r\n      this.props,\r\n      this.state\r\n    );\r\n    if (prevProps.x != this.props.x) {\r\n      //http call\r\n    }\r\n  }\r\n  componentWillUnmount() {\r\n    console.log(\"componentWillUnmount - Shopping cart\");\r\n  }\r\n  componentDidCatch(error, info) {\r\n    console.log(\"componentWillUnmount - Shopping cart\");\r\n    console.log(error, info);\r\n    localStorage.lastError =`${erorr}\\n$`\r\n  }\r\n\r\n  // Increment and decrement functions taking the product\r\n  //state from Product component\r\n  handleIncrement = (product, max) => {\r\n    //copy the product array\r\n    let allProducts = [...this.state.products];\r\n    //get the index of any product\r\n    let index = allProducts.indexOf(product);\r\n    if (allProducts[index].quantity < max) {\r\n      allProducts[index].quantity++;\r\n      //update the state with the changed array allProducts\r\n      this.setState({ products: allProducts });\r\n    }\r\n\r\n    // console.log(\"handleIncrement\", product);\r\n    // console.log(allProducts[index]);\r\n  };\r\n  handleDecrement = (product, min) => {\r\n    let allProducts = [...this.state.products];\r\n    let index = allProducts.indexOf(product);\r\n    if (allProducts[index].quantity > min) {\r\n      allProducts[index].quantity--;\r\n\r\n      this.setState({ products: allProducts });\r\n    }\r\n\r\n    // console.log(\"handleDecrement\", product);\r\n  };\r\n  //delete product\r\n  handelDelete = (product) => {\r\n    //get the product by index\r\n    let allProducts = [...this.state.products];\r\n    let index = allProducts.indexOf(product);\r\n    if (window.confirm(\"Are you sure to Delete the product?\")) {\r\n      //delete the product with\r\n      allProducts.splice(index, 1);\r\n      //changing the state with the deleted product\r\n      this.setState({ products: allProducts });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    console.log(\"render - Shopping cart\");\r\n    return (\r\n      <div className=\"containr-fluid\">\r\n        <h4>ShoppingCart</h4>\r\n        <div className=\"row\">\r\n          {this.state.products.map((prod) => {\r\n            return (\r\n              <Product\r\n                key={prod.id}\r\n                product={prod}\r\n                onIncrement={this.handleIncrement}\r\n                onDecrement={this.handleDecrement}\r\n                onDelete={this.handelDelete}\r\n              >\r\n                <button className=\"btn btn-primary\">Buy now</button>\r\n              </Product>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}