{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\teodo\\\\Desktop\\\\aYEAR2\\\\semester2\\\\FullStack\\\\Projects\\\\error_handling\\\\client\\\\src\\\\components\\\\DisplayAllCars.js\";\nimport React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport CarTable from \"./CarTable\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\"; //import Product from \"./Product\";\n\nimport { // ACCESS_LEVEL_GUEST,\nACCESS_LEVEL_ADMIN, SERVER_HOST } from \"../config/global_constants\";\nexport default class DisplayAllCars extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onRefreshClick = () => {\n      this.setState({\n        customersCount: 7\n      });\n    };\n\n    this.getPhoneToRender = phone => {\n      if (phone) {\n        return phone;\n      } else {\n        return React.createElement(\"div\", {\n          className: \"bg-warning p-2 text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, \"No phone\");\n      }\n    };\n\n    this.state = {\n      cars: [],\n      appTitle: \"Customers\",\n      customersCount: 0,\n      users: [],\n      customers: [{\n        id: 1,\n        name: \"Scott\",\n        phone: \"234234\",\n        address: {\n          city: \"London\"\n        }\n      }, {\n        id: 2,\n        name: \"Jones\",\n        phone: \"567567\",\n        address: {\n          city: \"Praga\"\n        }\n      }, {\n        id: 3,\n        name: \"Smith\",\n        phone: null,\n        address: {\n          city: \"Sofia\"\n        }\n      }, {\n        id: 4,\n        name: \"John\",\n        phone: \"3453466\",\n        address: {\n          city: \"Plovdiv\"\n        }\n      }]\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"\".concat(SERVER_HOST, \"/cars\")).then(res => {\n      this.setState({\n        cars: res.data\n      });\n    }).catch(err => {// do nothing\n    });\n    axios.get(\"\".concat(SERVER_HOST, \"/users\")).then(res => {\n      this.setState({\n        users: res.data\n      });\n      console.log(this.res.data);\n    }).catch(err => {// do nothing\n    });\n  } //Executes when user clicks on Refresh button\n\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"outer__container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, this.state.appTitle, \" \"), React.createElement(\"span\", {\n      className: \"badge badge-secondary m-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, this.state.customersCount), React.createElement(\"button\", {\n      className: \"btn btn-info\",\n      onClick: () => this.onRefreshClick(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Refresh\"), React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"#\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Customer Name\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Phone\"), React.createElement(\"th\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"City\")), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }))), React.createElement(CarTable, {\n      cars: this.state.cars,\n      users: this.state.users,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    })), localStorage.accessLevel >= ACCESS_LEVEL_ADMIN ? React.createElement(\"div\", {\n      className: \"add-new-car\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Link, {\n      className: \"blue-button\",\n      to: \"/AddCar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, \"Add New Car\"), React.createElement(Link, {\n      className: \"header__link\",\n      to: \"/ResetDatabase\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"header__option\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"header__optionLineOne\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"blue-button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, \"Reset Database\"))), \" \") : null, React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }));\n  }\n\n} //  {\n//    localStorage.accessLevel > ACCESS_LEVEL_GUEST ? (\n//      <div className=\"logout\">\n//        {localStorage.profilePhoto !== \"null\" ? (\n//          <img\n//            id=\"profilePhoto\"\n//            src={`data:;base64,${localStorage.profilePhoto}`}\n//            alt=\"\"\n//          />\n//        ) : null}\n//        <Logout />\n//      </div>\n//    ) : (\n//      <div></div>\n//    );\n//  }\n//  <div className=\"table-container\">\n//    <CarTable cars={this.state.cars} />\n//    {localStorage.accessLevel >= ACCESS_LEVEL_ADMIN ? (\n//      <div className=\"add-new-car\">\n//        <Link className=\"blue-button\" to={\"/AddCar\"}>\n//          Add New Car\n//        </Link>\n//      </div>\n//    ) : null}\n//  </div>;","map":{"version":3,"sources":["C:\\Users\\teodo\\Desktop\\aYEAR2\\semester2\\FullStack\\Projects\\error_handling\\client\\src\\components\\DisplayAllCars.js"],"names":["React","Component","Link","axios","CarTable","Header","Footer","ACCESS_LEVEL_ADMIN","SERVER_HOST","DisplayAllCars","constructor","props","onRefreshClick","setState","customersCount","getPhoneToRender","phone","state","cars","appTitle","users","customers","id","name","address","city","componentDidMount","get","then","res","data","catch","err","console","log","render","localStorage","accessLevel"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,QAAP,MAAqB,YAArB;AAEA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,MAAP,MAAmB,UAAnB,C,CACA;;AAEA,SACE;AACAC,kBAFF,EAGEC,WAHF,QAIO,4BAJP;AAMA,eAAe,MAAMC,cAAN,SAA6BR,SAA7B,CAAuC;AACpDS,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAqCnBC,cArCmB,GAqCF,MAAM;AACrB,WAAKC,QAAL,CAAc;AACZC,QAAAA,cAAc,EAAE;AADJ,OAAd;AAGD,KAzCkB;;AAAA,SA0CnBC,gBA1CmB,GA0CAC,KAAD,IAAU;AAC1B,UAAIA,KAAJ,EAAW;AACT,eAAOA,KAAP;AACD,OAFD,MAEO;AACL,eAAO;AAAK,UAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAP;AACD;AACF,KAhDkB;;AAGjB,SAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAE,EADK;AAEXC,MAAAA,QAAQ,EAAE,WAFC;AAGXL,MAAAA,cAAc,EAAE,CAHL;AAIXM,MAAAA,KAAK,EAAE,EAJI;AAKXC,MAAAA,SAAS,EAAE,CACT;AAAEC,QAAAA,EAAE,EAAE,CAAN;AAASC,QAAAA,IAAI,EAAE,OAAf;AAAwBP,QAAAA,KAAK,EAAE,QAA/B;AAAyCQ,QAAAA,OAAO,EAAE;AAAEC,UAAAA,IAAI,EAAE;AAAR;AAAlD,OADS,EAET;AAAEH,QAAAA,EAAE,EAAE,CAAN;AAASC,QAAAA,IAAI,EAAE,OAAf;AAAwBP,QAAAA,KAAK,EAAE,QAA/B;AAAyCQ,QAAAA,OAAO,EAAE;AAAEC,UAAAA,IAAI,EAAE;AAAR;AAAlD,OAFS,EAGT;AAAEH,QAAAA,EAAE,EAAE,CAAN;AAASC,QAAAA,IAAI,EAAE,OAAf;AAAwBP,QAAAA,KAAK,EAAE,IAA/B;AAAqCQ,QAAAA,OAAO,EAAE;AAAEC,UAAAA,IAAI,EAAE;AAAR;AAA9C,OAHS,EAIT;AAAEH,QAAAA,EAAE,EAAE,CAAN;AAASC,QAAAA,IAAI,EAAE,MAAf;AAAuBP,QAAAA,KAAK,EAAE,SAA9B;AAAyCQ,QAAAA,OAAO,EAAE;AAAEC,UAAAA,IAAI,EAAE;AAAR;AAAlD,OAJS;AALA,KAAb;AAYD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClBvB,IAAAA,KAAK,CACFwB,GADH,WACUnB,WADV,YAEGoB,IAFH,CAESC,GAAD,IAAS;AACb,WAAKhB,QAAL,CAAc;AAAEK,QAAAA,IAAI,EAAEW,GAAG,CAACC;AAAZ,OAAd;AACD,KAJH,EAKGC,KALH,CAKUC,GAAD,IAAS,CACd;AACD,KAPH;AAQA7B,IAAAA,KAAK,CACFwB,GADH,WACUnB,WADV,aAEGoB,IAFH,CAESC,GAAD,IAAS;AACb,WAAKhB,QAAL,CAAc;AAAEO,QAAAA,KAAK,EAAES,GAAG,CAACC;AAAb,OAAd;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKL,GAAL,CAASC,IAArB;AACD,KALH,EAMGC,KANH,CAMUC,GAAD,IAAS,CACd;AACD,KARH;AASD,GApCmD,CAqCpD;;;AAcAG,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAwBE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKlB,KAAL,CAAWE,QAAhB,MAxBF,EAyBE;AAAM,MAAA,SAAS,EAAC,2BAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKF,KAAL,CAAWH,cADd,CAzBF,EA4BE;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,OAAO,EAAE,MAAM,KAAKF,cAAL,EAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBA5BF,EA+BE;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAO,MAAA,SAAS,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF,CADF,EAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAPF,CADF,CADF,EAeE,oBAAC,QAAD;AAAU,MAAA,IAAI,EAAE,KAAKK,KAAL,CAAWC,IAA3B;AAAiC,MAAA,KAAK,EAAE,KAAKD,KAAL,CAAWG,KAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAfF,CA/BF,EAgDGgB,YAAY,CAACC,WAAb,IAA4B9B,kBAA5B,GACC;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,aAAhB;AAA8B,MAAA,EAAE,EAAE,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADF,EAIE,oBAAC,IAAD;AAAM,MAAA,SAAS,EAAC,cAAhB;AAA+B,MAAA,EAAE,EAAE,gBAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAM,MAAA,SAAS,EAAC,uBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAM,MAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFF,CADF,CAJF,EASU,GATV,CADD,GAYG,IA5DN,EA8DE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA9DF,CADF;AAkED;;AAtHmD,C,CAyHtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport axios from \"axios\";\n\nimport CarTable from \"./CarTable\";\n\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\n//import Product from \"./Product\";\n\nimport {\n  // ACCESS_LEVEL_GUEST,\n  ACCESS_LEVEL_ADMIN,\n  SERVER_HOST,\n} from \"../config/global_constants\";\n\nexport default class DisplayAllCars extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      cars: [],\n      appTitle: \"Customers\",\n      customersCount: 0,\n      users: [],\n      customers: [\n        { id: 1, name: \"Scott\", phone: \"234234\", address: { city: \"London\" } },\n        { id: 2, name: \"Jones\", phone: \"567567\", address: { city: \"Praga\" } },\n        { id: 3, name: \"Smith\", phone: null, address: { city: \"Sofia\" } },\n        { id: 4, name: \"John\", phone: \"3453466\", address: { city: \"Plovdiv\" } },\n      ],\n    };\n  }\n\n  componentDidMount() {\n    axios\n      .get(`${SERVER_HOST}/cars`)\n      .then((res) => {\n        this.setState({ cars: res.data });\n      })\n      .catch((err) => {\n        // do nothing\n      });\n    axios\n      .get(`${SERVER_HOST}/users`)\n      .then((res) => {\n        this.setState({ users: res.data });\n        console.log(this.res.data);\n      })\n      .catch((err) => {\n        // do nothing\n      });\n  }\n  //Executes when user clicks on Refresh button\n  onRefreshClick = () => {\n    this.setState({\n      customersCount: 7,\n    });\n  };\n  getPhoneToRender =(phone) =>{\n    if (phone) {\n      return phone;\n    } else {\n      return <div className=\"bg-warning p-2 text-center\">No phone</div>;\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"outer__container\">\n        <Header />\n\n        {/* <table className=\"table\">\n          <thead>\n            <tr>\n              <th>#</th>\n              <th>Customer Name</th>\n              <th>Phone</th>\n            </tr>\n            <tbody>\n              {this.state.users.map((user) => {\n                return (\n                  <tr key={user._id}>\n                    <td>{user._id}</td>\n                    <td>{user.name}</td>\n                    <td>{user.email}</td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </thead>\n        </table> */}\n\n        <h4>{this.state.appTitle} </h4>\n        <span className=\"badge badge-secondary m-2\">\n          {this.state.customersCount}\n        </span>\n        <button className=\"btn btn-info\" onClick={() => this.onRefreshClick()}>\n          Refresh\n        </button>\n        <div className=\"container\">\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th>#</th>\n                <th>Customer Name</th>\n                <th>Phone</th>\n                <th>City</th>\n              </tr>\n              <tbody>\n                \n              </tbody>\n            </thead>\n          </table>\n\n          <CarTable cars={this.state.cars} users={this.state.users} />\n        </div>\n        {localStorage.accessLevel >= ACCESS_LEVEL_ADMIN ? (\n          <div className=\"add-new-car\">\n            <Link className=\"blue-button\" to={\"/AddCar\"}>\n              Add New Car\n            </Link>\n            <Link className=\"header__link\" to={\"/ResetDatabase\"}>\n              <div className=\"header__option\">\n                <span className=\"header__optionLineOne\"></span>\n                <span className=\"blue-button\">Reset Database</span>\n              </div>\n            </Link>{\" \"}\n          </div>\n        ) : null}\n\n        <Footer />\n      </div>\n    );\n  }\n}\n\n//  {\n//    localStorage.accessLevel > ACCESS_LEVEL_GUEST ? (\n//      <div className=\"logout\">\n//        {localStorage.profilePhoto !== \"null\" ? (\n//          <img\n//            id=\"profilePhoto\"\n//            src={`data:;base64,${localStorage.profilePhoto}`}\n//            alt=\"\"\n//          />\n//        ) : null}\n//        <Logout />\n//      </div>\n//    ) : (\n//      <div></div>\n//    );\n//  }\n\n//  <div className=\"table-container\">\n//    <CarTable cars={this.state.cars} />\n\n//    {localStorage.accessLevel >= ACCESS_LEVEL_ADMIN ? (\n//      <div className=\"add-new-car\">\n//        <Link className=\"blue-button\" to={\"/AddCar\"}>\n//          Add New Car\n//        </Link>\n//      </div>\n//    ) : null}\n//  </div>;\n"]},"metadata":{},"sourceType":"module"}